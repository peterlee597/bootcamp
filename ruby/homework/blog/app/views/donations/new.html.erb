<%= javascript_include_tag "donation", type: "module" %> <!-- Load the donation.js.erb file -->

<h1>Support Our Blog</h1>
<div class = "donation-container">
<%= form_with url: donations_path, method: :post, local: true, id: "payment-form" do |form| %>
  <%= form.hidden_field :csrf_token, value: form_authenticity_token %> <!-- Ensure the CSRF token is included -->

  <label for="amount">Donation Amount:</label>
  <input type="number" name="amount" min="1" required />

  <div id="card-container">
  <label for="card-element">Credit or Debit Card:</label>
  <div id="card-element"><!-- Stripe will place the card input here --></div>
  </div> 

  <button type="submit">Donate</button>
<% end %>
</div>

<h1> Email </h1>
<%= form_with model: @user, local: true do |form| %>
  <div class="form-group">
    <%= form.label :email %>
    <%= form.email_field :email, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= form.submit 'Confirm Email', class: 'btn btn-primary' %>
  </div>
<br>
<% end %>
